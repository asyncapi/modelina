{
  "customizations": {},
  "models": {
    "anonymSchema2": {
      "$id": "anonymSchema2",
      "type": "object",
      "properties": {
        "street_address": { "type": "string", "originalSchema": { "type": "string" } },
        "city":           { "type": "string", "originalSchema": { "type": "string" } },
        "state":          { "type": "string", "originalSchema": { "type": "string" } },
        "type": { 
          "type": "string",
          "enum": [ "residential", "business" ], 
          "originalSchema": { 
            "enum": [ "residential", "business" ] 
          } 
        }
      },
      "originalSchema": {
        "allOf": [
          {
            "type": "object",
            "properties": {
              "street_address": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "state": {
                "type": "string"
              }
            },
            "required": [
              "street_address",
              "city",
              "state"
            ]
          },
          {
            "properties": {
              "type": {
                "enum": [
                  "residential",
                  "business"
                ]
              }
            },
            "required": [
              "type"
            ]
          }
        ]
      }
    },
    "anonymSchema1": {
      "$id": "anonymSchema1",
      "type": "object",
      "properties": {
        "shipping_address": { "$ref": "anonymSchema2" }
      },
      "originalSchema": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "type": "object",
        "properties": {
          "shipping_address": {
            "allOf": [
              {
                "type": "object",
                "properties": {
                  "street_address": { "type": "string" },
                  "city":           { "type": "string" },
                  "state":          { "type": "string" }
                },
                "required": [
                  "street_address",
                  "city",
                  "state"
                ]
              },
              { 
                "properties": { 
                  "type": { 
                    "enum": [ "residential", "business" ] 
                  } 
                },
                "required": ["type"]
              }
            ]
          }
        }
      }
    }
  },
  "originalInput": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
      "shipping_address": {
        "allOf": [
          {
            "type": "object",
            "properties": {
              "street_address": { "type": "string" },
              "city":           { "type": "string" },
              "state":          { "type": "string" }
            },
            "required": ["street_address", "city", "state"]
          },
          { 
            "properties": { 
              "type": { 
                "enum": [ "residential", "business" ] 
              } 
            },
            "required": ["type"]
          }
        ]
      }
    }
  }
}